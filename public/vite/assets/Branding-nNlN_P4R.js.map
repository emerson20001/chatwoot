{"version":3,"file":"Branding-nNlN_P4R.js","sources":["../../../app/javascript/shared/components/Branding.vue"],"sourcesContent":["<script>\nimport { parseBoolean } from '@chatwoot/utils';\nimport { useBranding } from 'shared/composables/useBranding';\n\nconst {\n  LOGO_THUMBNAIL: logoThumbnail,\n  BRAND_NAME: brandName,\n  WIDGET_BRAND_URL: widgetBrandURL,\n  HIDE_POWERED_BY: hidePoweredBy,\n} = window.globalConfig || {};\n\nexport default {\n  props: {\n    disableBranding: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  setup() {\n    const { replaceInstallationName } = useBranding();\n    return {\n      replaceInstallationName,\n    };\n  },\n  data() {\n    return {\n      globalConfig: {\n        brandName,\n        logoThumbnail,\n        widgetBrandURL,\n        hidePoweredBy: parseBoolean(hidePoweredBy),\n      },\n    };\n  },\n  computed: {\n    brandRedirectURL() {\n      try {\n        const referrerHost = this.$store.getters['appConfig/getReferrerHost'];\n        const url = new URL(this.globalConfig.widgetBrandURL);\n        if (referrerHost) {\n          url.searchParams.set('utm_source', referrerHost);\n          url.searchParams.set('utm_medium', 'widget');\n        } else {\n          url.searchParams.set('utm_medium', 'survey');\n        }\n        url.searchParams.set('utm_campaign', 'branding');\n        return url.toString();\n      } catch (e) {\n        // Suppressing the error as getter is not defined in some cases\n      }\n      return '';\n    },\n    shouldHideBranding() {\n      return this.disableBranding || this.globalConfig.hidePoweredBy;\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    v-if=\"globalConfig.brandName && !shouldHideBranding\"\n    class=\"px-0 py-3 flex justify-center\"\n  >\n    <a\n      :href=\"brandRedirectURL\"\n      rel=\"noreferrer noopener nofollow\"\n      target=\"_blank\"\n      class=\"branding--link text-n-slate-11 hover:text-n-slate-12 cursor-pointer text-xs inline-flex grayscale-[1] hover:grayscale-0 hover:opacity-100 opacity-90 no-underline justify-center items-center leading-3\"\n    >\n      <img\n        class=\"ltr:mr-1 rtl:ml-1 max-w-3 max-h-3\"\n        :alt=\"globalConfig.brandName\"\n        :src=\"globalConfig.logoThumbnail\"\n      />\n      <span>\n        {{ replaceInstallationName($t('POWERED_BY')) }}\n      </span>\n    </a>\n  </div>\n  <div v-else class=\"p-3\" />\n</template>\n"],"names":["logoThumbnail","brandName","widgetBrandURL","hidePoweredBy","_sfc_main","replaceInstallationName","useBranding","parseBoolean","referrerHost","url","_hoisted_2","_hoisted_3","$data","$options","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_toDisplayString","$setup","_ctx","_hoisted_4"],"mappings":"6KAIA,KAAM,CACJ,eAAgBA,EAChB,WAAYC,EACZ,iBAAkBC,EAClB,gBAAiBC,CACnB,EAAI,OAAO,cAAgB,CAAA,EAEtBC,EAAU,CACb,MAAO,CACL,gBAAiB,CACf,KAAM,QACN,QAAS,KAGb,OAAQ,CACN,KAAM,CAAE,wBAAAC,CAAsB,EAAMC,EAAW,EAC/C,MAAO,CACL,wBAAAD,EAEJ,EACA,MAAO,CACL,MAAO,CACL,aAAc,CACZ,UAAAJ,EACA,cAAAD,EACA,eAAAE,EACA,cAAeK,EAAaJ,CAAa,GAG/C,EACA,SAAU,CACR,kBAAmB,CACjB,GAAI,CACF,MAAMK,EAAe,KAAK,OAAO,QAAQ,2BAA2B,EAC9DC,EAAM,IAAI,IAAI,KAAK,aAAa,cAAc,EACpD,OAAID,GACFC,EAAI,aAAa,IAAI,aAAcD,CAAY,EAC/CC,EAAI,aAAa,IAAI,aAAc,QAAQ,GAE3CA,EAAI,aAAa,IAAI,aAAc,QAAQ,EAE7CA,EAAI,aAAa,IAAI,eAAgB,UAAU,EACxCA,EAAI,SAAQ,CACrB,MAAY,CAEZ,CACA,MAAO,EACT,EACA,oBAAqB,CACnB,OAAO,KAAK,iBAAmB,KAAK,aAAa,aACnD,EAEJ,KAxDA,IAAA,EA8DI,MAAM,iCA9DVC,EAAA,CAAA,MAAA,EAAAC,EAAA,CAAA,MAAA,KAAA,KAAA,IAAA,EAgFc,MAAM,sCAnBVC,EAAA,aAAa,WAAS,CAAKC,EAAA,oBADnCC,IAAAC,EAmBM,MAnBNC,EAmBM,CAfJC,EAcI,IAAA,CAbD,KAAMJ,EAAA,iBACP,IAAI,+BACJ,OAAO,SACP,MAAM,4MAENI,EAIE,MAAA,CAHA,MAAM,oCACL,IAAKL,EAAA,aAAa,UAClB,IAAKA,EAAA,aAAa,aAzE3B,EAAA,KAAA,EAAAD,CAAA,EA2EMM,EAEO,OAAA,KAAAC,EADFC,EAAA,wBAAwBC,EAAA,GAAE,YAAA,CAAA,CAAA,EAAA,CAAA,CA5ErC,EAAA,EAAAV,CAAA,MAgFEI,IAAAC,EAA0B,MAA1BM,CAA0B"}