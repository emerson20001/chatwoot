<%#
# Application Layout

This view template is used as the layout
for every page that Administrate generates.

By default, it renders:
- Navigation
- Content for a search bar
  (if provided by a `content_for` block in a nested page)
- Flashes
- Links to stylesheets and JavaScripts
%>

<!DOCTYPE html>
<html lang="<%= I18n.locale %>" class="w-full h-full">
<head>
  <meta charset="utf-8">
  <meta name="ROBOTS" content="NOODP">
  <meta name="viewport" content="initial-scale=1">
  <% dynamic_title_enabled = GlobalConfig.get_value('DYNAMIC_TITLE_FROM_DOMAIN') %>
  <% global_branding = GlobalConfig.get('LOGO_THUMBNAIL') %>
  <% favicon_url = global_branding['LOGO_THUMBNAIL'].presence || '/favicon-32x32.png' %>
  <% if dynamic_title_enabled.to_s == 'true' %>
    <% raw_domain = request.host.to_s.gsub(/^www\./, '') %>
    <% title_suffix = t('admin.branding.super_admin_title') %>
    <% cleaned = raw_domain.presence || title_suffix %>
    <title><%= "#{cleaned} - #{title_suffix}" %></title>
  <% else %>
    <title><%= t('admin.branding.super_admin_title') %></title>
  <% end %>
  <link rel="icon" type="image/x-icon" href="<%= favicon_url %>">
  <link rel="shortcut icon" href="<%= favicon_url %>" type="image/x-icon">
  <%= render "stylesheet" %>
  <%= vite_client_tag %>
  <%= vite_javascript_tag 'superadmin' %>
  <%= csrf_meta_tags %>
</head>
<body class="antialiased w-full h-full">
  <%= render "icons" %>
  <div class="flex w-full h-full">
    <%= render "navigation" -%>
    <main class="w-full overflow-auto" role="main">
      <%= render "flashes" -%>
      <%= yield %>
    </main>
  </div>
  <%= render "javascript" %>
</body>
</html>
